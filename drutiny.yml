parameters:
    acquia.api.base_uri: https://cskb.acquia.com/
    amplitude.api_key: 85ec40a1b0b929c4bf96de44f824fc46
services:
    _defaults:
        autowire: true      # Automatically injects dependencies in your services.
        autoconfigure: true # Automatically registers your services as commands, event subscribers, etc.
        public: true

    acquia.templates:
      class: Twig\Loader\FilesystemLoader
      arguments: [ '%acquia.twig_dir%' ] # See drutiny.php
      tags: [twig.loader]

    Drutiny\Acquia\AcquiaTarget:
      tags: [target]

    Drutiny\Acquia\Api\Analytics:

    Drutiny\Acquia\Api\SourceApi:

    Drutiny\Acquia\Api\CloudApi:

    acquia.cloud.api:
      class: Drutiny\Acquia\Api\CloudApi

    acquia.lift.api:
      class: Drutiny\Acquia\Api\LiftProfileManagerClient
      factory: ['Drutiny\Acquia\Api\LiftProfileManagerClient', 'create']

    Drutiny\Acquia\Source\PolicySource:
      tags: [policy.source]

    Drutiny\Acquia\DomainList\AcquiaSiteFactoryDomainList:
      tags: [domain_list]

    Drutiny\Acquia\DomainList\AcquiaCloudDomainList:
      tags: [domain_list]

    Drutiny\Acquia\Source\ProfileSource:
      tags: [profile.source]

    Drutiny\Acquia\EventsSubscriber:
      tags: [kernel.event_subscriber]

    Drutiny\Acquia\Plugin\AcquiaCloudPlugin:

    Zumba\Amplitude\Amplitude:
        calls:
          - [getInstance]
          - [init, ['%amplitude.api_key%']]
          - [setDeviceId, ['%name%']]
